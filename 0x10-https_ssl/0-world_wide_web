#!/usr/bin/env bash
# displays information about subdomains

domain="$1"
subdomain="$2"

dns_info() {
	host=$(dig "$1" | grep -A1 'ANSWER SECTION:' | tail -n 1)
	echo -n "$host" |
	awk '{print "The subdomain","'"$sub"'","is a",$4,"record and points to",$5}'
}

if [ "$domain" ] && [ "$subdomain" ] ; then
	info="$subdomain.$domain"
	dns_info "$info"
elif [ "$domain" ] ; then
	subdomains=("www" "lb-01" "web-01" "web-02")
	
	for sub in "${subdomains[@]}" ; do
		info="$sub.$domain"
		dns_info "$info"
	done
fi
